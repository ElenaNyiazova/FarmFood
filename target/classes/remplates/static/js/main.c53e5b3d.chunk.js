(this["webpackJsonpfarm-food-app"]=this["webpackJsonpfarm-food-app"]||[]).push([[0],{84:function(e,t,r){},85:function(e,t,r){"use strict";r.r(t);var s=r(0),l=r.n(s),c=r(20),n=r.n(c),a=r(13),i=r(6),o=r(47),d=r(7),u=r(92),j=r(96),b=r(93),g=r(24),p={ALL:"Show all",FRUITS:"fruits",VEGETABLES:"vegetables",DAIRY:"dairy",BAKERY:"bakery",EGGS:"eggs"},h="/",m="/seller/:id",_="/profile",O={MINSK:"Minsk",KIEV:"Kiev",ALA:"Almaty",SPB:"Saint Petersburg",YEREVAN:"Yerevan"},f={selectedCity:O.MINSK,allCities:Object.values(O),showLocationModal:!0},x=Object(g.c)({name:"cities",initialState:f,reducers:{selectedCityChanged:function(e,t){e.selectedCity=t.payload},showLocationModalToggled:function(e){e.showLocationModal=!1}}}),y=x.actions,v=y.selectedCityChanged,w=y.showLocationModalToggled,C=x.reducer,S=r(1),L=function(){var e=Object(a.c)((function(e){return e.cities.selectedCity})),t=Object(a.c)((function(e){return e.cities.allCities})),r=Object(a.b)(),s=t.map((function(t){if(t!==e)return Object(S.jsx)(b.a.Item,{onClick:function(e){r(v(t))},children:t},t)}));return Object(S.jsx)(b.a,{title:e,id:"basic-nav-dropdown",style:{marginRight:"1rem"},children:s})},k=function(e){var t=e.show,r=e.handleClose;return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(j.a,{show:t,onHide:r,children:[Object(S.jsx)(j.a.Header,{closeButton:!0,children:Object(S.jsx)(j.a.Title,{children:"Welcome to Farm Food!"})}),Object(S.jsxs)(j.a.Body,{children:["You can find all the eco food sellers available in selected region. Please select your location:",Object(S.jsx)(L,{})]}),Object(S.jsx)(j.a.Footer,{style:{justifyContent:"flex-start"},children:"You can change it in the top right corner of the page at any time"})]})})},I=Object(g.c)({name:"cities",initialState:{isLoggedIn:!1,loggedInUser:{user_id:"1234",user_name:"customer01",user_favourite_sellers_ids:["01","02"]}},reducers:{logInToggle:function(e){e.isLoggedIn=!e.isLoggedIn}}}),B=I.actions.logInToggle,T=I.reducer,E=r(94),N=r(69),F=function(e){var t=e.show,r=e.handleClose,s=e.handleSubmit;return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(j.a,{show:t,onHide:r,children:[Object(S.jsx)(j.a.Header,{closeButton:!0,children:Object(S.jsx)(j.a.Title,{children:"Log in please"})}),Object(S.jsx)(j.a.Body,{children:Object(S.jsxs)(E.a,{onSubmit:function(e){e.preventDefault(),s()},children:[Object(S.jsxs)(E.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(S.jsx)(E.a.Label,{children:"Email address"}),Object(S.jsx)(E.a.Control,{type:"email",placeholder:"Enter email"}),Object(S.jsx)(E.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(S.jsxs)(E.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(S.jsx)(E.a.Label,{children:"Password"}),Object(S.jsx)(E.a.Control,{type:"password",placeholder:"Password"})]}),Object(S.jsx)(N.a,{variant:"primary",type:"submit",children:"Log In"})]})})]})})},G=r(95),P=function(e){var t=e.handleLoginClick,r=e.isLoggedIn,s=e.handleLogOutClick,l=e.userName,c=Object(d.h)();return Object(S.jsxs)(G.a,{children:[Object(S.jsx)(G.a.Brand,{style:{cursor:"pointer"},onClick:function(){c(Object(d.e)(h))},children:"LOGO"}),Object(S.jsx)(G.a.Toggle,{}),Object(S.jsxs)(G.a.Collapse,{className:"justify-content-end",children:[Object(S.jsx)(L,{}),Object(S.jsxs)(G.a.Text,{children:[!r&&Object(S.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:t,children:"Sign In"}),r&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{style:{marginRight:"0.3rem"},children:"Signed in as"}),Object(S.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer",marginRight:"1rem"},onClick:function(){c(Object(d.e)(_))},children:l}),Object(S.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:s,children:"Sign Out"})]})]})]})]})},R=r(91),A=r(71),D=r(98),M=r(31),Y=r(55),H=Object(g.b)(),K=H.getInitialState({ids:["01","02","03","04","05","06"],entities:{"01":{seller_name:"ECO FOOD",seller_description:"ECO FOOD has been around for over a decade inspired by supplying the market with the finest raw products from all over the world, creating a loyal customer base along its fruitful journey by supplying essential commodities across the Belarusian region.",seller_grades:[5,4,5,5],seller_contacts:{seller_phone:"+375 25 456 42 42",seller_site:"ecofood.by",seller_instagram:"ecofood_by",seller_viber:"+375 25 456 42 42",seller_whatsapp:"",seller_telegram:""},seller_categories:["fruits","vegetables"],seller_products:["apple","apricot","pear","grapes","plum","cucumber","tomato","potato","carrot","onion","broccoli","Garlic","Cabbage"],seller_products_ids:["01"],seller_buy_methods:["site","phone"],seller_reviews_ids:[123,124]},"02":{seller_name:"Green Products",seller_description:"Green Products has been around for over a decade inspired by supplying the market with the finest raw products from all over the world, creating a loyal customer base along its fruitful journey by supplying essential commodities across the Belarusian region.",seller_grades:[5,4,5,5],seller_contacts:{seller_phone:"+375 25 456 42 55",seller_site:"green.by",seller_instagram:"ecofood_by",seller_viber:"+375 25 456 42 55",seller_whatsapp:"",seller_telegram:""},seller_categories:["fruits","vegetables","eggs"],seller_products:["apple","pear","potato","carrot","onion","Garlic","Cabbage","eggs"],seller_products_ids:["01","02"],seller_buy_methods:["site","phone"],seller_reviews_ids:[123,124]},"03":{seller_name:"Green-green",seller_description:"ECO FOOD has been around for over a decade inspired by supplying the market with the finest raw products from all over the world, creating a loyal customer base along its fruitful journey by supplying essential commodities across the Belarusian region.",seller_grades:[5,4,5,5],seller_contacts:{seller_phone:"+375 25 456 42 42",seller_site:"ecofood.by",seller_instagram:"ecofood_by",seller_viber:"+375 25 456 42 42",seller_whatsapp:"",seller_telegram:""},seller_categories:["fruits","vegetables"],seller_products:["apple","apricot","pear","grapes","plum","cucumber","tomato","potato","carrot","onion"],seller_products_ids:["01"],seller_buy_methods:["site","phone"],seller_reviews_ids:[123,124]},"04":{seller_name:"Best Farm",seller_description:"Green Products has been around for over a decade inspired by supplying the market with the finest raw products from all over the world, creating a loyal customer base along its fruitful journey by supplying essential commodities across the Belarusian region.",seller_grades:[5,4,5,5],seller_contacts:{seller_phone:"+375 25 456 42 55",seller_site:"green.by",seller_instagram:"ecofood_by",seller_viber:"+375 25 456 42 55",seller_whatsapp:"",seller_telegram:""},seller_categories:["fruits","vegetables","eggs","dairy"],seller_products:["apple","apricot","pear","grapes","plum","cucumber","tomato","potato","carrot","onion","broccoli","Garlic","Cabbage","eggs","milk","Cheese","butter","Yogurt","cream"],seller_products_ids:["01","02","03"],seller_buy_methods:["site","phone"],seller_reviews_ids:[123,124]},"05":{seller_name:"Shop Eco",seller_description:"ECO FOOD has been around for over a decade inspired by supplying the market with the finest raw products from all over the world, creating a loyal customer base along its fruitful journey by supplying essential commodities across the Belarusian region.",seller_grades:[5,4,5,5],seller_contacts:{seller_phone:"+375 25 456 42 42",seller_site:"ecofood.by",seller_instagram:"ecofood_by",seller_viber:"+375 25 456 42 42",seller_whatsapp:"",seller_telegram:""},seller_categories:["fruits","vegetables","dairy"],seller_products:["apple","apricot","pear","grapes","plum","potato","carrot","onion","milk","Yogurt","cream"],seller_products_ids:["01","03"],seller_buy_methods:["site","phone"],seller_reviews_ids:[123,124]},"06":{seller_name:"LOVE ECO",seller_description:"Green Products has been around for over a decade inspired by supplying the market with the finest raw products from all over the world, creating a loyal customer base along its fruitful journey by supplying essential commodities across the Belarusian region.",seller_grades:[5,4,5,5],seller_contacts:{seller_phone:"+375 25 456 42 55",seller_site:"green.by",seller_instagram:"ecofood_by",seller_viber:"+375 25 456 42 55",seller_whatsapp:"",seller_telegram:""},seller_categories:["fruits","vegetables","eggs"],seller_products:["apple","pear","grapes","plum","potato","carrot","onion","Garlic","Cabbage","eggs"],seller_products_ids:["01","02"],seller_buy_methods:["site","phone"],seller_reviews_ids:[123,124]}}}),V=Object(g.c)({name:"sellers",initialState:K,reducers:{createSeller:H.addOne,updateSeller:H.updateOne}}),U=V.actions,J=(U.createSeller,U.updateSeller,V.reducer),W=H.getSelectors((function(e){return e.sellers})),q=W.selectAll,z=W.selectIds,Q=W.selectById,X=Object(Y.a)(q,(function(e){var t=e.reduce((function(e,t){return[].concat(Object(M.a)(e),Object(M.a)(t.seller_products))}),[]);return Object(M.a)(new Set(t))})),Z=function(e){var t=e.id,r=e.filter,s=Object(a.c)((function(e){return Q(e,t)})),l=s.seller_name,c=s.seller_categories,n=s.seller_products,i=r===p.ALL||(c.includes(r)||n.filter((function(e){return e.includes(r)})).length>0),o=Object(d.h)();return i&&Object(S.jsxs)(D.a,{bg:"light",style:{width:"18rem",marginRight:"1rem",marginBottom:"1rem",cursor:"pointer"},onClick:function(){o(Object(d.e)(m,{id:t}))},children:[Object(S.jsx)(D.a.Header,{children:l}),Object(S.jsxs)(D.a.Body,{children:[Object(S.jsxs)(D.a.Title,{children:[l," sells:"]}),Object(S.jsx)("ul",{children:c.map((function(e){return Object(S.jsx)("li",{children:e},e)}))})]})]})},$=r(97),ee=function(e){var t=e.handleCategoryClick,r=Object.values(p);return Object(S.jsx)($.a,{style:{width:"18rem",marginRight:"1rem",marginBottom:"1rem",padding:0},children:r.map((function(e){return Object(S.jsx)($.a.Item,{action:!0,style:{textTransform:"uppercase"},onClick:function(){return t(e)},children:e},e)}))})},te=(r(84),function(e){var t=e.handleSearch,r=e.setSearchResult,l=Object(s.useState)(""),c=Object(i.a)(l,2),n=c[0],o=c[1],d=Object(a.c)((function(e){return X(e)})),u=Object(s.useState)(d),j=Object(i.a)(u,2),b=j[0],g=j[1],p=Object(s.useRef)(null);return Object(S.jsxs)("div",{className:"search-container",children:[Object(S.jsx)(E.a.Control,{type:"text",placeholder:"Search by product name",style:{margin:"1rem",marginLeft:"0"},value:n,onChange:function(e){return function(e){var s=e.target.value;p.current.className="suggestions",o(s),r(s),g(""===s?d:d.filter((function(e){return e.toLowerCase().includes(s.toLowerCase())}))),t(s.toLowerCase())}(e)},onBlur:function(e){return o(""),void(p.current.className="suggestions  suggestions--hidden")}}),Object(S.jsx)("ul",{ref:p,className:"suggestions  suggestions--hidden",children:b.map((function(e){return Object(S.jsx)("li",{onMouseDown:function(s){return function(e,s){r(s),o(""),g([]),t(s),p.current.className="suggestions  suggestions--hidden"}(0,e)},className:"suggestion",children:e},e)}))})]})}),re=function(){var e=Object(s.useState)(p.ALL),t=Object(i.a)(e,2),r=t[0],l=t[1],c=Object(a.c)((function(e){return z(e)})),n=Object(s.useState)(""),o=Object(i.a)(n,2),d=o[0],u=o[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(R.a,{children:Object(S.jsxs)(A.a,{xs:8,md:4,children:[Object(S.jsx)(te,{handleSearch:function(e){l(e)},setSearchResult:u}),d&&Object(S.jsxs)("p",{children:["Search results for ",d]})]})}),Object(S.jsxs)(R.a,{style:{paddingLeft:"0.8rem"},children:[Object(S.jsx)(ee,{handleCategoryClick:function(e){l(e),u("")}}),c.map((function(e){return Object(S.jsx)(Z,{id:e,filter:r},e)}))]})]})},se=Object(g.b)(),le=se.getInitialState({ids:["01","02","03"],entities:{"01":{seller_id:["01","02","03","04","05","06"],product_category:"fruits",product_name:"apple",product_weight:"1 kg",product_price:"8",product_image:"apple.jpg"},"02":{seller_id:["02","04","06"],product_category:"eggs",product_name:"chicken eggs",product_weight:"10",product_price:"4",product_image:"eggs.jpg"},"03":{seller_id:["04","05"],product_category:"dairy",product_name:"milk",product_weight:"1 liter",product_price:"2",product_image:"milk.jpg"}}}),ce=Object(g.c)({name:"products",initialState:le,reducers:{createProduct:se.addOne,updateProduct:se.updateOne}}),ne=ce.actions,ae=(ne.createProduct,ne.updateProduct,ce.reducer),ie=se.getSelectors((function(e){return e.products})),oe=ie.selectAll,de=(ie.selectIds,ie.selectById,Object(Y.a)([oe,function(e,t){return t}],(function(e,t){return e.filter((function(e){return e.seller_id.includes(t)}))}))),ue=function(){var e=Object(d.i)().id;console.log(e);var t=Object(a.c)((function(t){return Q(t,e)})),r=Object(a.c)((function(t){return de(t,e)})),s=t.seller_name,l=t.seller_description,c=(t.seller_buy_methods,t.seller_contacts),n=c.seller_phone,i=c.seller_site,o=c.seller_instagram,u=c.seller_viber;t.seller_products;return console.log(t),console.log(r),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(D.a,{children:[Object(S.jsxs)(D.a.Body,{children:[Object(S.jsx)(D.a.Title,{className:"text-center",children:s}),Object(S.jsx)(D.a.Text,{children:l})]}),Object(S.jsxs)(D.a.Footer,{className:"text-center",children:[Object(S.jsx)(D.a.Text,{children:"Our contacts"}),Object(S.jsx)(D.a.Text,{children:"phone: ".concat(n)}),Object(S.jsx)(D.a.Text,{children:"site: ".concat(i)}),Object(S.jsx)(D.a.Text,{children:"instagram: ".concat(o)}),Object(S.jsx)(D.a.Text,{children:"viber: ".concat(u)})]})]}),Object(S.jsx)(R.a,{className:"mt-3",children:r.map((function(e){return Object(S.jsx)(D.a,{bg:"light",style:{width:"18rem",marginRight:"1rem",marginBottom:"1rem"},children:Object(S.jsxs)(D.a.Body,{children:[Object(S.jsx)(D.a.Text,{children:e.product_name}),Object(S.jsx)(D.a.Text,{children:e.product_price}),Object(S.jsx)(D.a.Text,{children:e.product_weight})]})},e.product_name)}))})]})},je=function(){return Object(S.jsx)("div",{children:"Profile page"})},be=function(){var e=Object(a.c)((function(e){return e.cities.showLocationModal})),t=Object(a.c)((function(e){return e.user.isLoggedIn})),r=Object(a.c)((function(e){return e.user.loggedInUser})),l=Object(a.b)(),c=Object(s.useState)(!1),n=Object(i.a)(c,2),j=n[0],b=n[1],g=function(){b(!1)};return Object(S.jsx)(o.a,{children:Object(S.jsxs)(u.a,{fluid:!0,children:[Object(S.jsx)(k,{show:e,handleClose:function(){l(w())}}),Object(S.jsx)(F,{show:j,handleClose:g,handleSubmit:function(){l(B()),g()}}),Object(S.jsx)(P,{handleLoginClick:function(){b(!0)},isLoggedIn:t,handleLogOutClick:function(){l(B())},userName:r.user_name}),Object(S.jsxs)(d.d,{children:[Object(S.jsx)(d.b,{exact:!0,path:h,element:Object(S.jsx)(re,{})}),Object(S.jsx)(d.b,{exact:!0,path:m,element:Object(S.jsx)(ue,{})}),Object(S.jsx)(d.b,{exact:!0,path:_,element:t?Object(S.jsx)(je,{}):Object(S.jsx)(d.a,{to:h})})]})]})})},ge=Object(g.a)({reducer:{sellers:J,products:ae,cities:C,user:T}});n.a.render(Object(S.jsx)(l.a.StrictMode,{children:Object(S.jsx)(a.a,{store:ge,children:Object(S.jsx)(be,{})})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.c53e5b3d.chunk.js.map